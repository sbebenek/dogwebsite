(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,a){e.exports=a(232)},123:function(e,t,a){},125:function(e,t,a){},137:function(e,t){},139:function(e,t){},151:function(e,t){},153:function(e,t){},178:function(e,t){},180:function(e,t){},181:function(e,t){},187:function(e,t){},189:function(e,t){},207:function(e,t){},210:function(e,t){},226:function(e,t){},229:function(e,t){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(27),r=a.n(o),l=(a(123),a(4)),i=(a(124),a(125),a(9)),c=a(10),m=a(2),d=a(12),u=a(11),g=a(8),h=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:n.props.username,redirectHome:"",signInHolder:s.a.createElement(l.b,{to:"/signin"},s.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0"},"Sign In"))},n.updateSignInButtonArea=n.updateSignInButtonArea.bind(Object(m.a)(n)),n.signOutAndRedirect=n.signOutAndRedirect.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("header did mount - username: "+this.state.username),this.updateSignInButtonArea(this.props.username)}},{key:"componentDidUpdate",value:function(e){console.log("WebsiteHeader received new props!"),this.props.username!==e.username&&(console.log("The new prop was different from the old one - new username: "+this.props.username),this.setState({username:this.props.username}),this.updateSignInButtonArea(this.props.username))}},{key:"signOutAndRedirect",value:function(){this.props.signout(),this.setState({redirectHome:s.a.createElement(g.a,{to:"/"})})}},{key:"updateSignInButtonArea",value:function(e){console.log("drawing sign in button area based on state..."),null===e?(console.log("username is null. drawing sign in button..."),this.setState({signInHolder:s.a.createElement(l.b,{to:"/signin"},s.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0"},"Sign In"))})):(console.log("username is not null. drawing sign out button..."),this.setState({signInHolder:s.a.createElement("div",{className:"form-inline"},s.a.createElement("p",{className:"nav-link custom-nav-item my-auto"},e),s.a.createElement("button",{onClick:this.signOutAndRedirect,className:"btn btn-outline-light my-2 my-sm-0 btn-sm"},"Sign Out"))}))}},{key:"render",value:function(){return s.a.createElement("header",null,this.state.redirectHome,s.a.createElement("nav",{className:"navbar navbar-expand-lg header-background"},s.a.createElement(l.b,{to:"/"},s.a.createElement("span",{className:"navbar-brand custom-nav-item"},s.a.createElement("span",{role:"img","aria-label":"paw print emoji"},"\ud83d\udc3e")," Dog Website")),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"nav-item"}," ",s.a.createElement(l.b,{to:"/",className:"nav-link custom-nav-item"},s.a.createElement("span",{className:""},"Home"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(l.b,{to:"/dogs",className:"nav-link custom-nav-item"},s.a.createElement("span",{className:""},"Dogs"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(l.b,{to:"/contact",className:"nav-link custom-nav-item"},s.a.createElement("span",{className:""},"Contact"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(l.b,{to:"/about",className:"nav-link custom-nav-item"},s.a.createElement("span",{className:""},"About Us")))),this.state.signInHolder)))}}]),a}(s.a.Component),p=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={dogList:[],dogHolder:s.a.createElement("div",{className:"center"},s.a.createElement("div",{class:"spinner-border text-success",role:"status"},s.a.createElement("span",{class:"sr-only"},"Loading...")))},n.drawDogList=n.drawDogList.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;fetch("/api/dogs/new").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({dogList:t})})).then((function(){return e.drawDogList()}))}},{key:"drawDogList",value:function(){var e=1.5;function t(e){return{animationName:"cardAppear",animationTimingFunction:"ease-in-out",animationDuration:"0.3s",animationDelay:e+"s",animationIterationCount:1,animationDirection:"normal",animationFillMode:"forwards"}}this.state.dogList.forEach((function(t){t.order=e,e+=.1})),this.setState({dogHolder:s.a.createElement("div",null,s.a.createElement("div",{className:"home-image-holder"},this.state.dogList.map((function(e){var a=encodeURI("../public/images/default.jpg");""!==e.dogimageref&&null!==e.dogimageref&&(a=encodeURI("../public/images/"+e.dogimageref));var n=e.dogage;return Number(e.dogage)<1&&(n="<1"),s.a.createElement("div",{key:e.dogid,className:"dog-card mb-5",style:t(e.order)},s.a.createElement("div",null,s.a.createElement("img",{src:a,alt:e.dogname+"'s profile photo"}),s.a.createElement("div",{className:"mt-3"},s.a.createElement("div",null,s.a.createElement("strong",null,e.dogname)),s.a.createElement("div",null,e.doglocation),s.a.createElement("div",null,n," year old ",e.doggender," ",e.dogbreed),s.a.createElement(l.b,{to:"/dogs/details/"+e.dogid},"Details \u2192"))))}))),s.a.createElement("div",{className:"right pb-5"},s.a.createElement(l.b,{to:"/dogs"},s.a.createElement("button",{className:"btn btn-success"},"See All Dogs"))))})}},{key:"render",value:function(){return s.a.createElement("div",{className:"home-content-holder"},s.a.createElement("div",{className:"center pb-5"},s.a.createElement("h1",{style:{textAlign:"center"}},"Find Your Next Furry Friend")),s.a.createElement("div",{className:"home-image-holder mb-4"},s.a.createElement("img",{className:"img-responsive",id:"dog-one",src:"dog2.jpg",alt:"a nice dog"}),s.a.createElement("img",{className:"img-responsive",id:"dog-two",src:"dog1.jpg",alt:"another nice dog"}),s.a.createElement("img",{className:"img-responsive",id:"dog-three",src:"dog3.jpg",alt:"a third nice dog"})),s.a.createElement("div",{className:"center",style:{textAlign:"center"}},s.a.createElement("p",null,"Owning a dog can be one of the most rewarding experiences someone can have. All around the GTA, many dogs are looking for homes to call their own. here at Dog Website, we want to clear shelters and fill people's live with the joy of having a dog."),s.a.createElement("p",null,"Dog Website is an organization dedicated to connecting shelters and private dog fosterers in the GTA with anyone interested in adopting a new dog. Please browse all the pets we have available, and we hope you find a new friend!"),s.a.createElement("h2",null,"Our Newest Dogs:")),this.state.dogHolder)}}]),a}(s.a.Component),f=a(33),b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:n.props.match.params.id,isAdmin:parseInt(n.props.isAdmin),pageContent:s.a.createElement("div",{class:"spinner-border text-success",role:"status"},s.a.createElement("span",{class:"sr-only"},"Loading...")),name:"",breed:"",gender:"Male",age:"",weight:"",color:"",description:"",location:"",imageSource:encodeURI("../../public/images/default.jpg"),show:!1,deleteButtonHolder:"",redirectHolder:"",commandPanel:""},n.handleShow=n.handleShow.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n.handleDelete=n.handleDelete.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=window.location.search,t=new URLSearchParams(e);null!=t.get("cmd")&&("added"===t.get("cmd")&&this.setState({commandPanel:s.a.createElement("div",{className:"alert alert-success",role:"alert"},"Dog was successfully added!")}),"updated"===t.get("cmd")&&this.setState({commandPanel:s.a.createElement("div",{className:"alert alert-info",role:"alert"},"Dog was successfully updated!")}))}},{key:"componentDidUpdate",value:function(e){console.log("Dog Details Page received new props!"),this.props.isAdmin!==e.isAdmin&&(console.log("The new prop was different from the old one - new isAdmin: "+this.props.isAdmin),this.setState({isAdmin:parseInt(this.props.isAdmin)}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/dogs/"+this.state.id).then((function(e){return e.json()})).then((function(t){"undefined"==typeof t[0]?(console.log("result is null"),e.setState({pageContent:s.a.createElement("div",null,s.a.createElement("p",null,"No entry with that ID found!"),s.a.createElement(l.b,{to:""},s.a.createElement("p",null,"Home")))})):(e.setState({name:t[0].dogname,breed:t[0].dogbreed,gender:t[0].doggender,age:t[0].dogage,weight:t[0].dogweight,color:t[0].dogcolor,description:t[0].dogdescription,location:t[0].doglocation}),Number(t[0].dogage)<1&&e.setState({age:"<1"}),null!==t[0].dogimageref&&""!==t[0].dogimageref&&(console.log("dog image ref found - "+t[0].dogimageref),e.setState({imageSource:encodeURI("../../public/images/"+t[0].dogimageref)})),e.setState({pageContent:s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"details-image-column col-sm"},s.a.createElement("div",null,s.a.createElement("img",{src:e.state.imageSource,className:"details-image",alt:"dog profile picture"}))),s.a.createElement("div",{className:"details-info-column col-sm"},s.a.createElement("h2",null,e.state.name),s.a.createElement("div",null,s.a.createElement("strong",null,"Gender: "),e.state.gender),s.a.createElement("div",null,s.a.createElement("strong",null,"Location: "),e.state.location),s.a.createElement("div",null,s.a.createElement("strong",null,"Breed: "),e.state.breed),s.a.createElement("div",null,s.a.createElement("strong",null,"Age: "),e.state.age," year(s) old"),s.a.createElement("div",null,s.a.createElement("strong",null,"Weight (lbs): "),e.state.weight),s.a.createElement("div",null,s.a.createElement("strong",null,"Color: "),e.state.color),s.a.createElement("br",null),s.a.createElement("div",{className:"mb-3"},e.state.description),e.checkIfAdmin())))}))})).catch((function(e){console.log(e)}))}},{key:"checkIfAdmin",value:function(){var e=this;return console.log("is user admin - "+this.state.isAdmin),1===this.state.isAdmin?(console.log("user is admin!"),this.setState({deleteButtonHolder:s.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.handleDelete(e.state.id)}},"Delete")}),s.a.createElement("div",null,s.a.createElement(l.b,{to:"/dogs/update/"+this.state.id},s.a.createElement("button",{className:"btn btn-warning"},"Update")),s.a.createElement(l.b,{to:"/dogs/changeimage/"+this.state.id},s.a.createElement("button",{className:"btn btn-info"},"Change Image")),s.a.createElement("button",{className:"btn btn-danger",onClick:this.handleShow},"Delete"))):""}},{key:"handleDelete",value:function(e){var t=this;this.setState({tableHolder:s.a.createElement("div",{class:"spinner-border text-success",role:"status"},s.a.createElement("span",{class:"sr-only"},"Loading..."))}),console.log("deleting dog with id "+e),fetch("/api/dogs/delete/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.props.jwtToken}}).then((function(e){if(403===e.status)throw this.props.signOut(),this.setState({redirectToLogin:!0}),new Error("Bad response from server: token expired");if(e.status>=400)throw this.setState({commandMessage:s.a.createElement("div",null,"Database error - sorry!")}),new Error("Bad response from server");console.log(e)})).then((function(){console.log("successfully deleted dog with id: "+e),t.setState({redirectHolder:s.a.createElement(g.a,{to:"/dogs?cmd=deleted"})}),t.getList()})).catch((function(e){console.log(e)}))}},{key:"handleClose",value:function(){console.log("hiding modal..."),this.setState({show:!1})}},{key:"handleShow",value:function(){console.log("showing modal..."),this.setState({show:!0})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.redirectHolder,s.a.createElement(l.b,{to:"/dogs"},s.a.createElement("button",{className:"btn btn-sm btn-light"},"\u2190 Go Back")),this.state.commandPanel,s.a.createElement("h2",null,"Details"),this.state.pageContent,s.a.createElement(f.a,{show:this.state.show,onHide:this.handleClose},s.a.createElement(f.a.Header,{closeButton:!0},s.a.createElement(f.a.Title,null)),s.a.createElement(f.a.Body,null,"Are you sure you want to delete this Dog from the database?"),s.a.createElement(f.a.Footer,null,s.a.createElement("button",{className:"btn btn-light",onClick:this.handleClose},"Close"),this.state.deleteButtonHolder)))}}]),a}(s.a.Component),E=a(117),v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getList=function(){fetch("/api/dogs/list").then((function(e){return e.json()})).then((function(e){return n.setState({list:e})})).then((function(){var e=Math.ceil(n.state.list.length/n.state.elementsPerPage);console.log("number of pages: "+e),n.setState({pageCount:e})})).then((function(){console.log("URL page number param = "+n.props.match.params.page),n.initialDrawCards(1)}))},n.state={isAdmin:parseInt(n.props.isAdmin),list:[],commandMessage:"",tableHolder:s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",{className:"spinner-border text-success",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading..."))),redirectHolder:"",currentlySelectedDogs:[],currentPage:1,pageCount:1,pageLinks:[],elementsPerPage:8},n.checkIfAdmin=n.checkIfAdmin.bind(Object(m.a)(n)),n.redirect=n.redirect.bind(Object(m.a)(n)),n.initialDrawCards=n.initialDrawCards.bind(Object(m.a)(n)),n.drawPageButtons=n.drawPageButtons.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"checkIfAdmin",value:function(){return console.log("is user admin - "+this.state.isAdmin),1===this.state.isAdmin?(console.log("user is admin!"),s.a.createElement(l.b,{to:"/dogs/add"},s.a.createElement("button",{className:"btn btn-success"},"Add New Dog"))):""}},{key:"componentDidUpdate",value:function(e){console.log("Dog List Page updated and received new props!"),this.props.isAdmin!==e.isAdmin&&(console.log("The new prop was different from the old one - new isAdmin: "+this.props.isAdmin),this.setState({isAdmin:parseInt(this.props.isAdmin)}))}},{key:"componentWillMount",value:function(){var e=window.location.search,t=new URLSearchParams(e);null!=t.get("cmd")&&"deleted"===t.get("cmd")&&this.setState({commandMessage:s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Dog was successfully deleted.")})}},{key:"componentDidMount",value:function(){this.getList()}},{key:"componentWillUnmount",value:function(){this.setState({commandMessage:""}),console.log("Debug: list page is unmounting!")}},{key:"initialDrawCards",value:function(){var e=this.props.match.params.page,t=0;1!==e&&void 0!==e&&(t=(e-1)*this.state.elementsPerPage);var a=this.state.list.slice(t,t+this.state.elementsPerPage);this.setState({currentlySelectedDogs:a})}},{key:"drawPageButtons",value:function(){for(var e=[],t=1;t<=this.state.pageCount;t++)Number(this.props.match.params.page)===t||void 0===this.props.match.params.page&&1===t?e.push(s.a.createElement("li",{className:"page-item active"},s.a.createElement(l.b,{onClick:this.redrawCards,className:"page-link",to:"/dogs/"+t},t))):e.push(s.a.createElement("li",{className:"page-item"},s.a.createElement(l.b,{onClick:this.redrawCards,className:"page-link ",to:"/dogs/"+t},t)));return e}},{key:"testDrawCard",value:function(e){var t=this;if(0===this.state.list.length)return this.state.tableHolder;var a=e,n=0;1!==e&&void 0!==e?n=(e-1)*this.state.elementsPerPage:a=1;var o=this.state.list.slice(n,n+this.state.elementsPerPage),r=0;function i(e){return{animationName:"cardAppear",animationTimingFunction:"ease-in-out",animationDuration:"0.3s",animationDelay:e+"s",animationIterationCount:1,animationDirection:"normal",animationFillMode:"forwards"}}return o.forEach((function(e){e.order=r,r+=.1})),0!==o.length?s.a.createElement("div",null,s.a.createElement("nav",{"aria-label":"Page navigation"},s.a.createElement("ul",{className:"pagination justify-content-center"},s.a.createElement("li",{className:"page-item"},s.a.createElement(l.b,{className:"page-link",to:function(){if(Number(a)>1)return"/dogs/"+(Number(a)-1)}},"\u2190")),this.drawPageButtons(),s.a.createElement("li",{className:"page-item"},s.a.createElement(l.b,{className:"page-link",to:function(){if(Number(a)<t.state.pageCount)return"/dogs/"+(Number(a)+1)}},"\u2192")))),s.a.createElement("div",{className:"list-card-holder"},o.map((function(e){var t=encodeURI("../public/images/default.jpg");""!==e.dogimageref&&null!==e.dogimageref&&(t=encodeURI("../public/images/"+String(e.dogimageref)));var a=e.dogage;return Number(e.dogage)<1&&(a="<1"),s.a.createElement("div",{key:e.dogid,className:"dog-card mb-5",style:i(e.order)},s.a.createElement("div",null,s.a.createElement("img",{src:t,alt:e.dogname+"'s profile photo"}),s.a.createElement("div",{className:"mt-3"},s.a.createElement("div",null,s.a.createElement("strong",null,e.dogname)),s.a.createElement("div",null,e.doglocation),s.a.createElement("div",null,a," year old ",e.doggender," ",e.dogbreed),s.a.createElement(l.b,{to:"/dogs/details/"+e.dogid},"Details \u2192"))))})))):void 0}},{key:"makeCardsAppear",value:function(){for(var e=document.getElementsByClassName("dog-card"),t=0;t<e.length;t++)e.style.color="blue"}},{key:"disappearCards",value:function(){var e,t=document.getElementsByClassName("dog-card"),a=Object(E.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.setAttribute("color","blue")}}catch(n){a.e(n)}finally{a.f()}}},{key:"redirect",value:function(e){this.setState({redirectHolder:s.a.createElement(g.a,{to:this.props.match.path+"/dogs/details/"+e})})}},{key:"render",value:function(){this.state.tableHolder;return!0===this.state.redirectToLogin?s.a.createElement(g.a,{to:"/signin"}):s.a.createElement("div",null,this.state.redirectHolder,s.a.createElement("h1",null,"Dogs"),this.state.commandMessage,s.a.createElement("p",null,"Here is a list of all the dogs currently available."),this.checkIfAdmin(),this.testDrawCard(this.props.match.params.page))}}]),a}(s.a.Component),k=a(26),w=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userIsAdmin:parseInt(n.props.isAdmin),name:"",breed:"",gender:"Male",age:"",weight:"",color:"",description:"",location:"",redirectToDetails:"",redirectToLogin:!1,errorMessage:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.successMessage=n.successMessage.bind(Object(m.a)(n)),n.failureMessage=n.failureMessage.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"checkIfSignedIn",value:function(){0===this.state.userIsAdmin&&this.setState({redirectToList:!0})}},{key:"componentDidUpdate",value:function(e){console.log("Add Page received new props!"),this.props.isAdmin!==e.isAdmin&&(console.log("The new prop was different from the old one - new isAdmin: "+this.props.username),this.setState({userIsAdmin:parseInt(this.props.isAdmin)}))}},{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(k.a)({},a,t))}},{key:"failureMessage",value:function(e){console.log("Error adding to the database"),this.setState({errorMessage:"Error adding to the database - sorry!"}),console.log(e)}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!e.target.checkValidity())return console.log("form invalid"),void this.setState({errorMessage:"*Please fill all fields"});console.log("form valid!"),console.log(this.state);var a={name:this.state.name,breed:this.state.breed,gender:this.state.gender,age:this.state.age,weight:this.state.weight,color:this.state.color,description:this.state.description,location:this.state.location};console.log("sending this data to the server..."),console.log(a),fetch("/api/dogs/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.props.jwtToken},body:JSON.stringify(a)}).then((function(e){if(403===e.status)throw console.log("403 - resquest sent with an expired token"),this.props.signOut(),this.setState({redirectToLogin:!0}),new Error("Bad response from server: token expired");if(e.status>=400)throw new Error("Bad response from server");return console.log("printing server response..."),console.log(e),console.log(e.body),e.json()})).then((function(e){return t.successMessage(e)})).catch((function(e){console.log(e)}))}},{key:"successMessage",value:function(e){console.log("printing parsed data..."),console.log(e),console.log("Dog successfully added to database"),this.setState({errorMessage:"Successfully added to the database",redirectToDetails:s.a.createElement(g.a,{to:"/dogs/details/"+e.id+"?cmd=added"})})}},{key:"render",value:function(){return!0===this.state.redirectToLogin?s.a.createElement(g.a,{to:"/signin"}):(this.checkIfSignedIn(),s.a.createElement("div",null,this.state.redirectToDetails,s.a.createElement("h2",null,"Add New Dog"),s.a.createElement("form",{className:"dog-form",action:"",onSubmit:this.handleSubmit,noValidate:!0},s.a.createElement("div",{style:{color:"red"},id:"errorMessage"},this.state.errorMessage),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"name"},"Name: ",s.a.createElement("span",{className:"text-danger"},"*")," "),s.a.createElement("input",{className:"form-control",type:"text",name:"name",id:"name",value:this.state.name,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"nameError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"breed"},"Breed: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"breed",id:"breed",value:this.state.breed,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"breedError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"gender"},"Gender: ",s.a.createElement("span",{className:"text-danger"},"*"))," ",s.a.createElement("br",null),s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:"male",name:"gender",value:"Male",onChange:this.handleChange,checked:!0}),s.a.createElement("label",{className:"form-check-label",htmlFor:"male"},"Male")),s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:"female",name:"gender",onChange:this.handleChange,value:"Female"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"female"},"Female"),s.a.createElement("br",null))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"age"},"Age (in years): ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"number",name:"age",id:"age",value:this.state.age,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"ageError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"weight"},"Weight (lbs): ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"number",name:"weight",id:"weight",step:"0.01",value:this.state.weight,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"weightError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"color"},"Color: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"color",id:"color",value:this.state.color,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"colorError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"location"},"Location: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"location",id:"location",value:this.state.location,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"locationError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"description"},"Description: "),s.a.createElement("textarea",{className:"form-control",name:"description",id:"description",onChange:this.handleChange,rows:"4",value:this.state.description}),s.a.createElement("span",{id:"descriptionError"})),s.a.createElement(l.b,{to:"/dogs"},s.a.createElement("button",{className:"btn btn-light",type:"submit"},"Cancel")),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add Dog"))))}}]),a}(s.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isAdmin:parseInt(n.props.isAdmin),id:"",name:"",breed:"",gender:"Male",age:"",weight:"",color:"",description:"",location:"",redirectToList:!1,redirectToLogin:!1,errorMessage:"",pageContent:s.a.createElement("div",null,s.a.createElement("h1",null,"Update Dog"),s.a.createElement("p",null,"Loading...")),loadForm:!1,validId:!0,maleCheck:"",femaleCheck:"",uploadedImage:null},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.successMessage=n.successMessage.bind(Object(m.a)(n)),n.failureMessage=n.failureMessage.bind(Object(m.a)(n)),n.checkIfSignedIn=n.checkIfSignedIn.bind(Object(m.a)(n)),n.handleImageUpload=n.handleImageUpload.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"checkIfSignedIn",value:function(){0===this.state.isAdmin&&this.setState({redirectToList:!0})}},{key:"componentDidUpdate",value:function(e){console.log("Update Page received new props!"),this.props.isAdmin!==e.isAdmin&&(console.log("The new prop was different from the old one - new isAdmin: "+this.props.username),this.setState({userIsAdmin:parseInt(this.props.isAdmin)}))}},{key:"componentWillMount",value:function(){this.checkIfSignedIn();var e=window.location.pathname,t=e.substring(e.lastIndexOf("/")+1);null===t||isNaN(t)||0===t?this.setState({validId:!1,pageContent:s.a.createElement("div",null,s.a.createElement(g.a,{to:"/dogs"}),s.a.createElement("h1",null,"Update Dog"),s.a.createElement("p",null,"Sorry! Invalid ID"))}):this.setState({id:t})}},{key:"componentDidMount",value:function(){var e=this;!0===this.state.validId&&(fetch("/api/dogs/"+this.state.id).then((function(e){return e.json()})).then((function(t){"undefined"==typeof t[0]?(console.log("result is null"),e.setState({pageContent:s.a.createElement("div",null,s.a.createElement("p",null,"No entry with that ID found!"),s.a.createElement(l.b,{to:""},s.a.createElement("p",null,"Home")))})):(console.log(t[0]),e.setState({name:t[0].dogname,breed:t[0].dogbreed,gender:t[0].doggender,age:t[0].dogage,weight:t[0].dogweight,color:t[0].dogcolor,description:t[0].dogdescription,location:t[0].doglocation,loadForm:!0}),console.log(e.state.name),"Male"===e.state.gender?e.setState({maleCheck:s.a.createElement("input",{type:"radio",id:"male",name:"gender",value:"Male",onChange:e.handleChange,checked:!0}),femaleCheck:s.a.createElement("input",{type:"radio",id:"female",name:"gender",onChange:e.handleChange,value:"Female"})}):e.setState({maleCheck:s.a.createElement("input",{type:"radio",id:"male",name:"gender",value:"Male",onChange:e.handleChange}),femaleCheck:s.a.createElement("input",{type:"radio",id:"female",name:"gender",onChange:e.handleChange,value:"Female",checked:!0})}))})),this.setState({pageContent:""}))}},{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(k.a)({},a,t))}},{key:"successMessage",value:function(e){console.log(e),this.setState({errorMessage:"Successfully added to the database",redirectToList:!0}),"success"===e&&console.log("data successfully sent to server")}},{key:"failureMessage",value:function(e){console.log("Error adding to the database"),this.setState({errorMessage:"Error adding to the database - sorry!"}),console.log(e)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!e.target.checkValidity())return console.log("form invalid"),void this.setState({errorMessage:"*Please fill all fields"});console.log("form valid!"),console.log(this.state);var t={id:this.state.id,name:this.state.name,breed:this.state.breed,gender:this.state.gender,age:this.state.age,weight:this.state.weight,color:this.state.color,description:this.state.description,location:this.state.location};console.log(t),fetch("/api/dogs/update/"+this.state.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.props.jwtToken},body:JSON.stringify(t)}).then((function(e){if(403===e.status)throw this.props.signOut(),this.setState({redirectToLogin:!0}),new Error("Bad response from server: token expired");if(e.status>=400)throw new Error("Bad response from server");console.log(e)})).then(this.successMessage(t)).catch((function(e){console.log(e)}))}},{key:"handleImageUpload",value:function(e){console.log(e.target.files[0]),this.setState({uploadedImage:e.target.files[0]})}},{key:"render",value:function(){return!0===this.state.redirectToLogin?s.a.createElement(g.a,{to:"/signin"}):!0===this.state.redirectToList?s.a.createElement(g.a,{to:"/dogs/details/"+this.state.id+"?cmd=updated"}):!0===this.state.loadForm?s.a.createElement("div",null,s.a.createElement("h2",null,"Update Dog"),s.a.createElement("form",{className:"dog-form",action:"",onSubmit:this.handleSubmit,noValidate:!0,encType:"multipart/form-data"},s.a.createElement("div",{style:{color:"red"},id:"errorMessage"},this.state.errorMessage),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"name"},"Name: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"name",id:"name",value:this.state.name,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"nameError"})),s.a.createElement("div",null,"File upload will go here"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"breed"},"Breed: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"breed",id:"breed",value:this.state.breed,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"breedError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"gender"},"Gender: ",s.a.createElement("span",{className:"text-danger"},"*"))," ",s.a.createElement("br",null),this.state.maleCheck,s.a.createElement("label",{htmlFor:"male"},"Male"),s.a.createElement("br",null),this.state.femaleCheck,s.a.createElement("label",{htmlFor:"female"},"Female"),s.a.createElement("br",null),s.a.createElement("span",{id:"nameError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"age"},"Age (in years): ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"number",name:"age",id:"age",value:this.state.age,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"ageError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"weight"},"Weight (lbs): ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"number",name:"weight",id:"weight",step:"0.01",value:this.state.weight,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"weightError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"color"},"Color: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"color",id:"color",value:this.state.color,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"colorError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"location"},"Location: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"location",id:"location",value:this.state.location,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"locationError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"description"},"Description: "),s.a.createElement("textarea",{className:"form-control",name:"description",id:"description",onChange:this.handleChange,rows:"4",value:this.state.description}),s.a.createElement("span",{id:"descriptionError"})),s.a.createElement(l.b,{to:"/dogs/details/"+this.state.id},s.a.createElement("button",{className:"btn btn-light"},"Cancel")),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update Dog"))):s.a.createElement("div",null,s.a.createElement("h2",null,"Update Dog"),s.a.createElement("p",null,"Loading..."))}}]),a}(s.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userIsAdmin:parseInt(n.props.isAdmin),errorMessage:"",isAdmin:parseInt(n.props.isAdmin),id:n.props.match.params.id,uploadedImage:null,imageSource:encodeURI("../../public/images/default.jpg"),redirectToDetails:"",pageContent:s.a.createElement("div",null,"Loading...")},n.handleImageUpload=n.handleImageUpload.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.checkIfSignedIn=n.checkIfSignedIn.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"checkIfSignedIn",value:function(){0===this.state.userIsAdmin&&this.setState({redirectToDetails:s.a.createElement(g.a,{to:"/dogs/details/"+this.state.id})})}},{key:"componentDidUpdate",value:function(e){console.log("Add Page received new props!"),this.props.isAdmin!==e.isAdmin&&(console.log("The new prop was different from the old one - new isAdmin: "+this.props.username),this.setState({userIsAdmin:parseInt(this.props.isAdmin)}))}},{key:"handleImageUpload",value:function(e){console.log("file size - "+e.target.files[0].size+". megabytes - "+e.target.files[0].size/1e6);/(\.jpg|\.jpeg|\.png|\.gif)$/i.exec(e.target.files[0].name)?e.target.files[0].size/1e6>2.5?(console.log("Filesize > 2.5 mb - too large."),this.setState({errorMessage:"File size too large. Must be smaller than 2.5mb. Your file is approx. "+e.target.files[0].size/1e6+"mb"})):this.setState({uploadedImage:e.target.files[0],imageSource:window.URL.createObjectURL(e.target.files[0]),errorMessage:""}):(console.log("An invalid file type tried to be uploaded - "+e.target.files[0].name),this.setState({errorMessage:"Invalid filetype: jpg, jpeg, png, or gif only."}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/dogs/"+this.state.id).then((function(e){return e.json()})).then((function(t){"undefined"==typeof t[0]?(console.log("result is null"),e.setState({pageContent:s.a.createElement("div",null,s.a.createElement("p",null,"No entry with that ID found!"),s.a.createElement(l.b,{to:""},s.a.createElement("p",null,"Home")))})):(null!==t[0].dogimageref&&""!==t[0].dogimageref&&(console.log("dog image ref found - "+t[0].dogimageref),e.setState({imageSource:encodeURI("../../public/images/"+String(t[0].dogimageref))})),e.setState({pageContent:s.a.createElement("div",null,s.a.createElement("div",{className:"form-group files"},s.a.createElement("label",{htmlFor:"image"},"Image Upload: "),s.a.createElement("input",{type:"file",id:"image",name:"image",className:"form-control-file",multiple:"",accept:"image/*",onChange:e.handleImageUpload}),s.a.createElement("span",{id:"nameError"})),s.a.createElement(l.b,{to:"/dogs/details/"+e.state.id},s.a.createElement("button",{className:"btn btn-light"},"Cancel")),s.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.handleSubmit},"Update Image"))}))})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(){var e=this;if(console.log("upload image state..."),console.log(this.state.uploadedImage),null!==this.state.uploadedImage){var t=new FormData,a=this.state.uploadedImage;t.append("id",this.state.id),t.append("file",a),console.log("data object's file field..."),console.log(t.values()),fetch("/api/upload",{method:"POST",headers:{Authorization:"Bearer "+this.props.jwtToken},body:t}).then((function(t){if(403===t.status)throw e.props.signOut(),e.setState({redirectToLogin:!0}),new Error("Bad response from server: token expired");if(t.status>=400)throw new Error("Bad response from server");console.log(t.statusText),e.setState({redirectToDetails:s.a.createElement(g.a,{to:"/dogs/details/"+e.state.id+"?cmd=updated"})})})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else this.setState({errorMessage:"Please upload an image file."})}},{key:"render",value:function(){return s.a.createElement("div",null,this.checkIfSignedIn(),this.state.redirectToDetails,s.a.createElement("h2",null,"Change Image"),s.a.createElement("div",null,s.a.createElement("img",{src:this.state.imageSource,className:"change-image-image mb-5 mx-auto d-block",alt:"dog profile picture"})),s.a.createElement("div",{style:{color:"red"},id:"errorMessage"},this.state.errorMessage),this.state.pageContent)}}]),a}(s.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={buttonCount:1},n.increaseCount=n.increaseCount.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"increaseCount",value:function(){this.setState({buttonCount:this.state.buttonCount+1})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"About Us"),s.a.createElement("p",null,"Dog Website is a website dedicated to connecting shelters and dog fosterers in the GTA to potential adopters."),s.a.createElement("p",null,"This website was developed as a passion project by Sam Bebenek in 2020 as a way to practice React and Express development. Dog Website is a single-page content management system that features React routing, authenticated logins, image uploading, and pagination. It is styled with a combination of Bootstrap and custom CSS. The back-end is an Express RESTful API application that connects to a MySQL database."),s.a.createElement("p",null,"With more time to develop this website, I'd liked to include personal user accounts, multiple images per dog, internal messaging, and shelter pages."),s.a.createElement("p",{className:"mb-5"},"Sam's portfolio website can be found ",s.a.createElement("a",{href:"http://sambebenek.com",target:"_blank"},"here"),"."),s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",null,s.a.createElement("p",{className:"text-center"},"Dedicated to Dodger"),s.a.createElement("p",{className:"text-center"},"2005-2018"),s.a.createElement("img",{src:"/dodger.jpg",alt:"Dodger the dog",className:"rounded",width:"300"}))))}}]),a}(s.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={email:"",subject:"",message:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(k.a)({},a,t))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Contact Us"),s.a.createElement("p",null,"If you are a shelter representative or private dog fosterer and want to get in contact with us, please fill out the form below. Any other questions or concerns are also welcome. One of our team members will get back to you as soon as possible!"),s.a.createElement("p",null,s.a.createElement("em",null,"Note: this form is for demonstration purposes only, and messages will not be sent or read by anyone. For more information, see the ",s.a.createElement(l.b,{to:"/about"},"About Us")," page.")),s.a.createElement("div",{className:"dog-form"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Your Email Adress: ",s.a.createElement("span",{className:"text-danger"},"*")," "),s.a.createElement("input",{className:"form-control",type:"text",name:"email",id:"email",value:this.state.email,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"emailError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"subject"},"Subject: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control",type:"text",name:"subject",id:"subject",value:this.state.subject,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"subjectError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"message"},"Message: ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("textarea",{className:"form-control",name:"message",id:"message",onChange:this.handleChange,rows:"4",value:this.state.message}),s.a.createElement("span",{id:"descriptionError"})),s.a.createElement(l.b,{to:"/"},s.a.createElement("button",{className:"btn btn-primary float-right",type:"submit"},"Send"))))}}]),a}(s.a.Component),j=(a(130),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={signedInUsername:n.props.username,username:"",password:"",redirectToHome:"",errorMessage:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.checkIfSignedIn=n.checkIfSignedIn.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"checkIfSignedIn",value:function(){null!==this.state.signedInUsername&&this.setState({redirectToHome:s.a.createElement(g.a,{to:"/"})})}},{key:"componentDidUpdate",value:function(e){console.log("SignIn Page received new props!"),this.props.username!==e.username&&(console.log("The new prop was different from the old one - new username: "+this.props.username),this.setState({signedInUsername:this.props.username}))}},{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(k.a)({},a,t))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!e.target.checkValidity())return console.log("form invalid"),this.setState({errorMessage:"*Username/password required"}),void(document.getElementById("errorMessage").innerHTML="*Username/password required");console.log("form valid!");var a={username:this.state.username,password:this.state.password};this.setState({errorMessage:"Loading..."}),fetch("/api/accounts/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()})).then((function(e){console.log(e),null===e||0===e.length?(console.log("no username/password combo found"),t.setState({errorMessage:"Invalid username/password."})):(console.log("Username/password combo found!"),console.log("Result: "+e),t.setState({errorMessage:"Welcome, "+e.username+"!"}),document.cookie="username="+e.username+";max-age=3600",document.cookie="isadmin="+e.isadmin+";max-age=3600",document.cookie="jwtToken="+e.jwtToken+";max-age=3600",document.cookie="refreshToken="+e.refreshToken+";max-age=3600",console.log("Cookie from sign in: "+document.cookie),t.props.signin(),t.setState({redirectToHome:s.a.createElement(g.a,{to:"/"})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.checkIfSignedIn(),this.state.redirectToHome,s.a.createElement("h1",null,"Sign In"),s.a.createElement("p",{id:"loginError"}),s.a.createElement("form",{className:"dog-form",action:"",onSubmit:this.handleSubmit,noValidate:!0},s.a.createElement("div",{style:{color:"red"},id:"errorMessage"},this.state.errorMessage),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username: "),s.a.createElement("input",{className:"form-control",type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"usernameError"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password: "),s.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"password",onChange:this.handleChange,required:!0}),s.a.createElement("span",{id:"passwordError"})),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Sign In")))}}]),a}(s.a.Component)),O=function(e){var t=e.location;return s.a.createElement("div",null,s.a.createElement("h3",null,"No page for ",s.a.createElement("code",null,t.pathname)," found :("),s.a.createElement(l.b,{to:""},s.a.createElement("p",null,"Home")))},I=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:null,isAdmin:0,redirectHome:"",jwtToken:"",refreshToken:""},n.signOut=n.signOut.bind(Object(m.a)(n)),n.deleteCookies=n.deleteCookies.bind(Object(m.a)(n)),n.checkCookies=n.checkCookies.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){document.title="Dog Website",this.checkCookies()}},{key:"componentDidMount",value:function(){console.log("page is done rendering")}},{key:"checkCookies",value:function(){null!==document.cookie&&""!==A("username")&&""!==A("jwtToken")&&""!==A("refreshToken")?(console.log("username from cookie: "+A("username")),console.log("isadmin from cookie: "+A("isadmin")),console.log("jwttoken from cookie: "+A("jwtToken")),console.log("refreshtoken from cookie: "+A("refreshToken")),this.setState({username:A("username"),isAdmin:A("isadmin"),jwtToken:A("jwtToken"),refreshToken:A("refreshToken")})):(console.log("no cookies with the correct values!"),this.setState({username:null}))}},{key:"deleteCookies",value:function(){console.log("deleting cookies..."),document.cookie="username=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="jwttoken=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="refreshtoken=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="isadmin=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"signOut",value:function(){this.setState({username:null,isAdmin:0,redirectHome:s.a.createElement(g.a,{to:"/?signout=true"})}),console.log("You have signed out!"),this.deleteCookies()}},{key:"render",value:function(){var e=this;return s.a.createElement(l.a,null,s.a.createElement(h,{username:this.state.username,signout:this.signOut}),s.a.createElement("div",{className:"page-wrapper"},s.a.createElement("img",{className:"dog-banner",src:"/dog-banner.jpg",alt:"dog website banner - some dogs playing"}),s.a.createElement("div",{className:"content-holder"},s.a.createElement(g.d,null,s.a.createElement(g.b,{exact:!0,path:"/dogs/add",render:function(t){return s.a.createElement(w,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken,signOut:e.signOut}))}}),s.a.createElement(g.b,{exact:!0,path:"/dogs",render:function(t){return s.a.createElement(v,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken}))}}),s.a.createElement(g.b,{exact:!0,path:"/dogs/:page",render:function(t){return s.a.createElement(v,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken}))}}),s.a.createElement(g.b,{exact:!0,path:"/dogs/details/:id",render:function(t){return s.a.createElement(b,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken,signOut:e.signOut}))}}),s.a.createElement(g.b,{exact:!0,path:"/dogs/update/:id",render:function(t){return s.a.createElement(y,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken,signOut:e.signOut}))}}),s.a.createElement(g.b,{exact:!0,path:"/dogs/changeimage/:id",render:function(t){return s.a.createElement(N,Object.assign({},t,{isAdmin:e.state.isAdmin,jwtToken:e.state.jwtToken,signOut:e.signOut}))}}),s.a.createElement(g.b,{exact:!0,path:"/contact"},s.a.createElement(S,null)),s.a.createElement(g.b,{exact:!0,path:"/about"},s.a.createElement(C,null)),s.a.createElement(g.b,{exact:!0,path:"/signin",render:function(t){return s.a.createElement(j,Object.assign({},t,{signin:e.checkCookies,username:e.state.username}))}}),s.a.createElement(g.b,{path:"/",exact:!0},s.a.createElement(p,null)),s.a.createElement(g.b,{component:O})))))}}]),a}(s.a.Component);function A(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}var T=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(l.a,null,s.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.3dd884b1.chunk.js.map